We call the first study we performed the \textit{``Replication Study''} because it is a partial replication~\cite{Juristo2012} of the first study on atoms of confusion, conducted by Gopstein et. al~\cite{GopsteinIYDZYC17}, but targeting JavaScript instead of the C language. Gopstein et. al. employed a randomized, partial counterbalancing experimental design on a sample of 73 subjects, mostly students, with three or more months of experience in C or C++. The control variable consisted of a tiny program containing a single atom candidate and the treatment a functionally-equivalent version that does not contain the atom. The main dependent variable is whether subjects are able to correctly determine the output of the programs. The other dependent variable is the time required to correctly vs. incorrectly determine the out of the programs. The study had the null hypothesis that \textit{``code from both control and treatment groups can be hand-evaluated with equal accuracy''} and the alternate hypothesis that \textit{``the existence of an atom of confusion causes more errors than other code in hand-evaluated outputs.''}. For each atom candidate, six programs were built, three versions including the atom candidate and three versions not including it. Each subject was exposed to four programs for every atom candidate, two including an atom and two not including an atom.  

In this study we adopt the same experimental design, control and treatment variables, dependent variable, and hypotheses. We have also built six programs for each atom candidate, three with and three without the atom. Considering the elements that can vary in a replication study, defined by Juristo and Gomez~\cite{Juristo2012}, in this study we employ the same experimental protocol and construct operationalizations. We have different population properties, experimenters, and a different site. In addition, since we focus on a different language, some atoms that exist in C cannot by construction exist in JavaScript programs. Conversely, JavaScript exhibits atom candidates that do not exist in C. 

The design of the replication study considers two treatments: the presence or absence of atoms candidates within the programs. To identify atom candidates, we start out by selecting every atom candidate from Gopstein's study that can also happen in JavaScript. That excludes atoms related to pointers and preprocessor directives. Furthermore, we conduct an informal search of programming forums, solutions to Code Golf~\footnote{https://codegolf.stackexchange.com/} problems, code style guidelines, and expert knowledge to identify new atom candidates. Overall, the replication study analyzes 24 atoms, 15 from the original study and 9 that are new and specific to JavaScript. Table~\ref{tab:atoms_replication} presents the complete list. 

For each atom candidate, we write six short programs, three including and three not including the atom candidate. The former are the control for the study or the obfuscated versions of the programs. The alternative, atom-free, versions of the programs are the treatment, or clean, versions. Each subject is exposed to one obfuscated and one clean version of each atom, totalizing 48 programs, and should determine their outputs. As mentioned before, we measure answer correctness and the time to answer questions correctly vs. incorrectly. We control for learning effects~\cite{Neely:1991:SPE} in three manners. First, by having multiple obfuscated and clean versions for each atom and presenting only one of each per subject. Second, by presenting the programs in a random order. Third, by presenting obfuscated and clean versions corresponding to the same atom candidate with at least 11 other programs in between, in  accordance to the original experimental protocol~\cite{GopsteinIYDZYC17}. 

\subsubsection*{Survey Instrument} 

We conduct the study by means of a web application. We carried out an initial pilot to find bugs with the application and to get general impressions. Based on the feedback of the participants of the pilot, we decided to present only one obfuscated and one clean version of each atom candidate, to reduce to total time of the study and potentially increase participation. Initially, our plan was to present two of each. 

We organize the study in three sections. In the first one we present instructions and also a check button whose checking meant users agreed that all collected data would be used anonymously and solely for research purposes. The instructions explain how the survey works and asks them to dedicate their attention to it.  We stressed to participants the importance of not using any aids during the survey, such as online or console interpreters. 

The second section presents the programs, one at a time. For each one, there is a text box where the answer should be written. There is also an ``I do not know'' button, which, when clicked, leads the subject to the next question. In our setting, ``I do not know'' is treated as a wrong answer. To reduce the likelihood of a subject attempting to execute the programs, the web application verifies whether the subject attempts to change tabs or windows and presents the programs as images, instead of text. Upon submitting an answer for a particular program, the subject is automatically led to a similar page, containing the next one.

We do not provide feedback about the time subjects take to answer each question. We also do not tell them whether their answers are correct or not. This aims at avoiding introducing bias for future respondents. Since we posted the survey on social media platforms, possible threats could have arisen if we gave respondents instant feedback.


\subsubsection*{Survey audience}

We posted the survey on the authors' social media platforms, on Brazilian CS departments' mailing lists, and on two programming subreddits. We explained our research purposes and asked developers to take the survey only if they have some familiarity with JavaScript. We collected 70 responses. The average survey respondent has a mean 26 months of experience in JavaScript, with a median of 12. 
