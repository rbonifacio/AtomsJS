\documentclass[10pt,conference,blind]{IEEEtran}

\IEEEoverridecommandlockouts

% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.

\usepackage{enumerate}
\usepackage{caption}
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{supertabular}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{colortbl}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\usepackage{listings}
\usepackage{color}
\usepackage{scalefnt}
\usepackage{multirow}
\usepackage{pifont}
\usepackage{xspace}
\usepackage{todonotes}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{tabularx} 
\usepackage{multicol}
\usepackage{listings}
\usepackage{xspace}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{graphics}
\usepackage{textcomp}
\usepackage{siunitx}
\usepackage{xcolor}
\usepackage{csquotes}
\usepackage{array}
\usepackage{listings}
\usepackage{color}
\usepackage{scalefnt}
\usepackage{multirow}
\usepackage{pifont}
\usepackage{xurl}
% \usepackage{appendix}
\usepackage[framemethod=TikZ]{mdframed}
\definecolor{oldlace}{rgb}{0.99, 0.96, 0.9}
\newmdenv [ %
 skipabove=\topsep,
 skipbelow=\topsep,
 leftmargin       = 2,
 rightmargin      = 2,
 splittopskip     = \topskip]{mh}

\newmdenv [ %
 skipabove=\topsep,
 skipbelow=\topsep,
 roundcorner = 5pt,
 leftmargin = 2,
 rightmargin = 2,
 % backgroundcolor = oldlace,
 innertopmargin = 3,
 splittopskip = 3]{mq}

\definecolor{javared}{rgb}{0.6,0,0} % for strings
\definecolor{javagreen}{rgb}{0.25,0.5,0.35} % comments
\definecolor{javapurple}{rgb}{0.5,0,0.35} % keywords
\definecolor{javadocblue}{rgb}{0.25,0.35,0.75} % javadoc
\lstset{
  basicstyle=\footnotesize\tt,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,                    % adds a frame around the code
  language=Java,                 % the language of the code
  keywordstyle=\bf,
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  tabsize=2,                       % sets default tabsize to 2 spaces
  keywordstyle=\color{javapurple}\bfseries,
  stringstyle=\color{javared},
  commentstyle=\color{javagreen},
  morecomment=[s][\color{javadocblue}]{/**}{*/},
  numbers=left,
  numberstyle=\tiny\color{black},
  stepnumber=1,
}    
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

\newcommand{\clang}{C\nolinebreak\xspace}

\newcommand{\cpplang}{C\nolinebreak\hspace{-.05em}\raisebox{.4ex}{\small\bf +}\nolinebreak\hspace{-.10em}\raisebox{.4ex}{\small\bf +}\xspace}

% TODO: Completar
\newcommand{\minedprojects}{72\xspace}

\newcommand{\rb}[1]{\todo[inline]{{\bf (rb note) }#1}}
\newcommand{\diego}[1]{\todo[inline,color=green]{{\bf (diego note) }#1}}
\newcommand{\adriano}[1]{\todo[inline,color=yellow]{{\bf (adriano note) }#1}}
\newcommand{\castor}[1]{\todo[inline,color=pink]{{\bf (castor note) }#1}}

\newcommand{\rqa}{What is the impact of atoms of confusion on the comprehension of
  JavaScript code?}

\newcommand{\rqb}{Do JavaScript developers identify atoms of confusion as contributing to program misunderstanding?}

\newcommand{\rqc}{What are the particular JavaScript idioms and language constructs that might cause source code misunderstanding?}

\newcommand{\rqd}{What is the frequency of occurrence of atoms of confusion in practice (i.e., in open-source JavaScript projects)?}


\lstset{language=C}
\lstset{
 morekeywords={printf}
}

\newcommand{\lhs}{left-hand side\xspace}
\newcommand{\rhs}{right-hand side\xspace}

\lstdefinelanguage{JavaScript}[]{Java}{
  morekeywords={let, console.log},
  moredelim=[is][\textcolor{darkgray}]{\%\%}{\%\%},
  moredelim=[il][\textcolor{darkgray}]{§§}
}

\begin{document}
\input{atom-mdframe-config}

\title{On The Impact of Atoms of Confusion in JavaScript
Code}

\author{\IEEEauthorblockN{Anonymous}}


%% \author{\IEEEauthorblockN{1\textsuperscript{st} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% \and
%% \IEEEauthorblockN{2\textsuperscript{nd} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% \and
%% \IEEEauthorblockN{3\textsuperscript{rd} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% \and
%% \IEEEauthorblockN{4\textsuperscript{th} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% \and
%% \IEEEauthorblockN{5\textsuperscript{th} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% \and
%% \IEEEauthorblockN{6\textsuperscript{th} Given Name Surname}
%% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
%% \textit{name of organization (of Aff.)}\\
%% City, Country \\
%% email address or ORCID}
%% }

\maketitle

% Número das páginas. Remover para camera-ready
% útil para nós e Program Chair que pode ver o total de páginas facilmente
\thispagestyle{plain}
\pagestyle{plain}

\begin{abstract}
Evolving legacy code is a challenging task, particularly when the code has been poorly written, increasing effort and imposing a significant cognitive load on developers. Previous research has investigated the impact of small code patterns (hereafter atoms of confusion) that contribute to misunderstanding the source code written in C and C++. However, little is known about the influence of these atoms on understanding dynamic languages (such as JavaScript). In this work, we investigate the impact of atoms of confusion on understanding code written in JavaScript in terms of a mixed-method research: a survey, a set of interviews with practitioners, and a mining software repositories (MSR) effort. From our survey and interviews, we confirm that atoms of confusion lead to code that is hard to understand: developers correctly predict the outcome of at least 15\% more cases when an atom of confusion is not present in 6 out of 9 atom candidates. Our MSR effort reveal that atoms of confusion frequently arise in open-source JavaScript systems: the Comma Operator is present in 11\% of the projects in our dataset; while five other atom candidates appear in more than 60\% of the projects, including the atoms Assignment as Value and Omitted Curly Braces, present in 8253 and 53357 cases, respectively. Altogether, our findings might help developers better understand the implications of atoms of confusion on understanding JavaScript code and contribute to the design of program transformation tools to simplify JavaScript code.


% Our investigation also reveals additional JavaScript constructs that might hinder even experienced developers from understanding JavaScript code, such as the use of callbacks functions. Altogether...


%Evolving legacy code is a challenging task, particularly when the code has been poorly written---which imposes a significant cognitive load on developers when trying to familiarize themselves with a legacy codebase. Previous research has investigated the impact of small code patterns that contribute to misunderstanding the source code written in C and C++. However, little is known about the influence of these small code patterns (hereafter atoms of confusion) on understanding dynamic languages (such as JavaScript). In this work, we present the results of a mixed-method research: a survey, a set of interviews with practitioners, and a mining software repositories (MSR) effort. Our goal is to investigate the impact of atoms of confusion on understanding code written in JavaScript --- a dynamically typed language whose popularity is growing in the most different application domains (from web programming to backend and IOT development). From our survey and interviews, we confirm that atoms of confusion lead to code that is hard to understand: developers correctly predict the outcome of at least 15\% more cases when an atom of confusion is not present in 6 out of 9 atom candidates. Also, the results of our MSR effort reveal that atoms of confusion frequently arise in open-source JavaScript systems: the Comma Operator is present in 11\% of the projects in our dataset; while five other atom candidates appear in more than 60\% of the projects---including the atoms Assignment as Value and Omitted Curly Braces, present in 8253 and 53357 cases, respectively. Our investigation also reveals additional JavaScript constructs and idioms that might hinder developers from understanding JavaScript code. For instance, even experienced JavaScript developers agree that it is hard to understand code that uses callback functions, even though we found widespread use of callbacks in our projects dataset. Altogether, our findings might help developers better understand the implications of atoms of confusion on understanding JavaScript code and contribute to the design of new program transformation tools that aim to simplify JavaScript code.
\end{abstract}

\begin{IEEEkeywords}
code readability, program comprehension, program understanding, atoms of confusion
%datasets, neural networks, gaze detection, text tagging
\end{IEEEkeywords}

\input{1_Introduction}
\input{2_Background}
\input{3_Method}
\input{4_Result}
\input{discussion}
\input{5_Threats}
\input{6_Conclusion}
% \input{7_Atoms}

% \section*{Acknowledgment}

\bibliographystyle{IEEEtran}
\bibliography{reference}

\vspace{12pt}
\end{document}
